# å“è³ªã®ãƒ—ãƒªã‚ºãƒ  - é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

## ğŸ§ª é–‹ç™ºæ–¹é‡

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **t_wadaã•ã‚“ã®æ¨å¥¨ã™ã‚‹TDD (Test-Driven Development)** ã¨ **DDD (Domain-Driven Design)** ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’çµ„ã¿åˆã‚ã›ã¦é–‹ç™ºã‚’é€²ã‚ã¦ã„ã¾ã™ã€‚

### TDDé–‹ç™ºã‚µã‚¤ã‚¯ãƒ«
1. **Red**: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
2. **Green**: ãƒ†ã‚¹ãƒˆã‚’é€šã™æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã
3. **Refactor**: ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„ã™ã‚‹

### DDDè¨­è¨ˆåŸå‰‡
- **ãƒ‰ãƒ¡ã‚¤ãƒ³ä¸­å¿ƒ**: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã«é›†ç´„
- **é–¢å¿ƒã®åˆ†é›¢**: å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è²¬ä»»ã‚’æ˜ç¢ºã«åˆ†é›¢
- **ãƒ†ã‚¹ãƒˆé§†å‹•**: å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆå¯èƒ½
- **ä¸å¤‰æ€§**: å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ä¸å¤‰æ€§ã‚’ä¿è¨¼

### ãƒ†ã‚¹ãƒˆè¦ä»¶
- æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã¯å¿…ãšãƒ†ã‚¹ãƒˆã‚’å…ˆã«æ›¸ã
- ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ã‹ã‚‰ã‚³ãƒŸãƒƒãƒˆ
- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚ã‚‚ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç¶­æŒ
- **ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ»å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆ**ã‚’å¿…ãšå«ã‚ã‚‹
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**ã®ãƒ†ã‚¹ãƒˆã‚’ç¶²ç¾…ã™ã‚‹
- **E2Eãƒ†ã‚¹ãƒˆ**ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ªã‚’æ¤œè¨¼ã™ã‚‹

## ğŸ“‹ ç¾åœ¨ã®ãƒ†ã‚¹ãƒˆçŠ¶æ³

```bash
npm test
```

- **ç·ãƒ†ã‚¹ãƒˆæ•°**: 212
- **æˆåŠŸç‡**: 93% (197/212)
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: 17ãƒ•ã‚¡ã‚¤ãƒ«

### ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸

#### æ—¢å­˜ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ (66 tests)
- `NovelGameApp.test.ts`: 11 tests - UIãƒ»ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
- `ChoiceSystem.test.ts`: 16 tests - é¸æŠè‚¢ãƒ»ãƒ«ãƒ¼ãƒˆåˆ†å²
- `ScenarioLoader.test.ts`: 8 tests - YAMLãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿
- `GameLogic.test.ts`: 10 tests - ã‚²ãƒ¼ãƒ çŠ¶æ…‹ç®¡ç†
- `TextLog.test.ts`: 13 tests - ãƒ†ã‚­ã‚¹ãƒˆãƒ­ã‚°
- `SaveData.test.ts`: 8 tests - ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–

#### DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ - ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ (76 tests)
- `GameProgress.test.ts`: 7 tests - ã‚²ãƒ¼ãƒ é€²è¡Œã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
- `GameProgress.edge-cases.test.ts`: 16 tests - ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ»å¢ƒç•Œå€¤
- `TextLogEntry.test.ts`: 13 tests - ãƒ†ã‚­ã‚¹ãƒˆãƒ­ã‚°ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
- `RouteId.test.ts`: 10 tests - ãƒ«ãƒ¼ãƒˆIDå€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
- `RouteId.edge-cases.test.ts`: 21 tests - ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ»ç‰¹æ®Šæ–‡å­—
- `SceneNumber.test.ts`: 10 tests - ã‚·ãƒ¼ãƒ³ç•ªå·å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
- `GameSettings.test.ts`: 18 tests - ã‚²ãƒ¼ãƒ è¨­å®šå€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
- `RouteValidationService.test.ts`: 9 tests - ãƒ«ãƒ¼ãƒˆæ¤œè¨¼ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹

#### DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ (16 tests)
- `GameService.test.ts`: 16 tests - ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒ“ã‚¹

#### DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ - ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£å±¤ (26 tests)
- `DexieGameProgressRepository.test.ts`: 12 tests - ã‚²ãƒ¼ãƒ é€²è¡Œãƒªãƒã‚¸ãƒˆãƒª
- `DexieGameSettingsRepository.test.ts`: 14 tests - ã‚²ãƒ¼ãƒ è¨­å®šãƒªãƒã‚¸ãƒˆãƒª

#### E2Eãƒ†ã‚¹ãƒˆ (Playwright)
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ª**: å®Ÿéš›ã®ãƒ–ãƒ©ã‚¦ã‚¶ç’°å¢ƒã§ã®ã‚²ãƒ¼ãƒ å‹•ä½œæ¤œè¨¼
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å”èª¿å‹•ä½œãƒ†ã‚¹ãƒˆ
- **UIæ“ä½œãƒ†ã‚¹ãƒˆ**: ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿéš›ã®æ“ä½œãƒ•ãƒ­ãƒ¼

## ğŸ› ï¸ é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test

# ãƒ†ã‚¹ãƒˆUIè¡¨ç¤º
npm run test:ui

# E2Eãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run test:e2e

# E2Eãƒ†ã‚¹ãƒˆï¼ˆãƒ˜ãƒƒãƒ‰ã‚ã‚Šãƒ¢ãƒ¼ãƒ‰ï¼‰
npm run test:e2e:headed

# E2Eãƒ†ã‚¹ãƒˆUIè¡¨ç¤º
npm run test:e2e:ui

# E2Eãƒ†ã‚¹ãƒˆãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰
npm run test:e2e:debug

# E2Eãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤º
npm run test:e2e:report

# ãƒ“ãƒ«ãƒ‰
npm run build
```

## ğŸ—ï¸ DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¦å‰‡

### ãƒ¬ã‚¤ãƒ¤ãƒ¼è²¬ä»»

#### ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ (`src/domain/`)
- **ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£**: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¨ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†
- **å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**: ä¸å¤‰æ€§ã¨ç­‰ä¾¡æ€§ã‚’ä¿è¨¼
- **ãƒªãƒã‚¸ãƒˆãƒª**: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- **ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹**: ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã®å®Ÿè£…

#### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ (`src/application/`)
- **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒ“ã‚¹**: ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®å®Ÿè£…
- **ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®èª¿æ•´**: è¤‡æ•°ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å”èª¿

#### ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£å±¤ (`src/infrastructure/`)
- **ãƒªãƒã‚¸ãƒˆãƒªå®Ÿè£…**: å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹
- **æ°¸ç¶šåŒ–**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã®é€£æº

### å®Ÿè£…è¦å‰‡

1. **ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**:
   - å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ä¸å¤‰ã«ã™ã‚‹
   - ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¯ä¸€æ„æ€§ã‚’ä¿è¨¼
   - ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã«é›†ç´„

2. **ä¾å­˜é–¢ä¿‚**:
   - ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã¯ä»–ã®å±¤ã«ä¾å­˜ã—ãªã„
   - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã«ä¾å­˜
   - ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£å±¤ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ã«ä¾å­˜

3. **ãƒ†ã‚¹ãƒˆ**:
   - å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆ
   - ãƒ¢ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦ä¾å­˜é–¢ä¿‚ã‚’åˆ†é›¢
   - ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚’ç¶²ç¾…

## ğŸ“ ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦å‰‡

### 1. TDDé–‹ç™ºãƒ•ãƒ­ãƒ¼

**æ–°æ©Ÿèƒ½é–‹ç™ºæ™‚**:
1. å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼ˆRedï¼‰
2. æœ€å°é™ã®å®Ÿè£…ã§ãƒ†ã‚¹ãƒˆã‚’é€šã™ï¼ˆGreenï¼‰
3. ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„ã™ã‚‹ï¼ˆRefactorï¼‰
4. ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
5. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 

**ãƒã‚°ä¿®æ­£æ™‚**:
1. ãƒã‚°ã‚’å†ç¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’ä½œæˆ
2. ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
3. ä¿®æ­£ã—ã¦ãƒ†ã‚¹ãƒˆã‚’é€šã™
4. é–¢é€£ã™ã‚‹ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚’æ¤œè¨¼

### 2. DDDå®Ÿè£…ãƒ•ãƒ­ãƒ¼

**æ–°ã—ã„ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè¿½åŠ æ™‚**:
1. ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
2. ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å®Ÿè£…
3. ãƒªãƒã‚¸ãƒˆãƒªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©
4. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
5. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒ“ã‚¹ã‚’å®Ÿè£…
6. ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£å±¤ã®ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
7. ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£å±¤ã‚’å®Ÿè£…

### 3. ã‚³ãƒŸãƒƒãƒˆå‰ãƒã‚§ãƒƒã‚¯

**å¿…é ˆç¢ºèªäº‹é …**:
- [ ] å…¨ãƒ†ã‚¹ãƒˆãŒé€šéã™ã‚‹
- [ ] TypeScriptãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒãªã„
- [ ] æ–°æ©Ÿèƒ½ã«ã¯ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆãŒã‚ã‚‹
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒãƒ†ã‚¹ãƒˆã•ã‚Œã¦ã„ã‚‹
- [ ] DDDãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è²¬ä»»ãŒæ­£ã—ãåˆ†é›¢ã•ã‚Œã¦ã„ã‚‹
- [ ] E2Eãƒ†ã‚¹ãƒˆã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ªãŒæ¤œè¨¼ã•ã‚Œã¦ã„ã‚‹

## ğŸ¯ å“è³ªä¿è¨¼

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ä»¥ä¸‹ã®å“è³ªåŸºæº–ã‚’ç¶­æŒã—ã¾ã™:

### åŸºæœ¬å“è³ªæŒ‡æ¨™
- âœ… **ãƒ†ã‚¹ãƒˆæˆåŠŸç‡**: 93% (197/212)
- âœ… **TypeScriptãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãªã—**
- âœ… **ESLint/Prettieræº–æ‹ **
- âœ… **textlintï¼ˆã‚·ãƒŠãƒªã‚ªå“è³ªï¼‰æº–æ‹ **

### DDDå“è³ªæŒ‡æ¨™
- âœ… **ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã®åˆ†é›¢**: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã«é›†ç´„
- âœ… **ä¸å¤‰æ€§ã®ä¿è¨¼**: å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸å¤‰æ€§ã‚’å¾¹åº•
- âœ… **ãƒ†ã‚¹ãƒˆç‹¬ç«‹æ€§**: å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆå¯èƒ½
- âœ… **ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ç¶²ç¾…**: å¢ƒç•Œå€¤ãƒ»ç‰¹æ®Šæ–‡å­—ãƒ»ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®ãƒ†ã‚¹ãƒˆ

### TDDå“è³ªæŒ‡æ¨™
- âœ… **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: å®Ÿè£…å‰ã«ãƒ†ã‚¹ãƒˆã‚’ä½œæˆ
- âœ… **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®‰å…¨æ€§**: ãƒ†ã‚¹ãƒˆã«ã‚ˆã‚‹å¤‰æ›´ä¿è­·
- âœ… **ç¶™ç¶šçš„æ”¹å–„**: Red-Green-Refactorã‚µã‚¤ã‚¯ãƒ«ã®å®Ÿè·µ

### E2Eå“è³ªæŒ‡æ¨™
- âœ… **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ªæ¤œè¨¼**: å®Ÿéš›ã®ãƒ–ãƒ©ã‚¦ã‚¶ç’°å¢ƒã§ã®ãƒ†ã‚¹ãƒˆ
- âœ… **çµ±åˆãƒ†ã‚¹ãƒˆ**: å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å”èª¿å‹•ä½œç¢ºèª
- âœ… **UIæ“ä½œãƒ†ã‚¹ãƒˆ**: ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿéš›ã®æ“ä½œãƒ•ãƒ­ãƒ¼

## ğŸš€ ä»Šå¾Œã®é–‹ç™ºæŒ‡é‡

### æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ
1. **ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒªãƒ³ã‚°**: ãƒ“ã‚¸ãƒã‚¹è¦ä»¶ã‚’ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦è¨­è¨ˆ
2. **TDDå®Ÿè·µ**: ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã§å®Ÿè£…
3. **ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ†é›¢**: DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®åŸå‰‡ã«å¾“ã£ãŸè²¬ä»»åˆ†é›¢
4. **ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹è€ƒæ…®**: å¢ƒç•Œå€¤ãƒ»ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ»ç‰¹æ®Šã‚±ãƒ¼ã‚¹ã‚’ç¶²ç¾…

### ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®æˆé•·æˆ¦ç•¥
- **æ¼¸é€²çš„æ”¹å–„**: æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’æ®µéšçš„ã«DDDãƒ‘ã‚¿ãƒ¼ãƒ³ã«ç§»è¡Œ
- **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸å‘ä¸Š**: æœªãƒ†ã‚¹ãƒˆéƒ¨åˆ†ã®ç¶™ç¶šçš„ãªæ”¹å–„
- **è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä¸€è²«æ€§**: æ–°æ©Ÿèƒ½ã‚‚æ—¢å­˜ã®DDDãƒ‘ã‚¿ãƒ¼ãƒ³ã«æº–æ‹ 

TDD + DDDã«ã‚ˆã‚Šã€**å®‰å…¨ã§ä¿å®ˆæ€§ã®é«˜ã„æ‹¡å¼µå¯èƒ½ãªã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹**ã‚’æ§‹ç¯‰ã—ã¦ã„ã¾ã™ã€‚

## ğŸ’¡ å®Ÿè£…ä¾‹

### ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å®Ÿè£…ä¾‹

```typescript
// å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¾‹
export class RouteId {
  private readonly value: string;
  
  constructor(value: string) {
    this.value = value;
  }
  
  getValue(): string {
    return this.value;
  }
  
  equals(other: RouteId): boolean {
    return this.value === other.value;
  }
  
  isEmpty(): boolean {
    return this.value === '' || this.value.trim() === '';
  }
  
  static from(value: string): RouteId {
    return new RouteId(value);
  }
  
  static empty(): RouteId {
    return new RouteId('');
  }
}
```

### TDDå®Ÿè£…ä¾‹

```typescript
// 1. ãƒ†ã‚¹ãƒˆã‚’å…ˆã«æ›¸ãï¼ˆRedï¼‰
describe('RouteId', () => {
  it('æœ‰åŠ¹ãªãƒ«ãƒ¼ãƒˆIDã‚’ä½œæˆã§ãã‚‹', () => {
    const routeId = RouteId.from('route1');
    expect(routeId.getValue()).toBe('route1');
  });
  
  it('ç©ºã®ãƒ«ãƒ¼ãƒˆIDã¯ç©ºã¨ã¿ãªã•ã‚Œã‚‹', () => {
    const emptyRoute = RouteId.empty();
    expect(emptyRoute.isEmpty()).toBe(true);
  });
});

// 2. æœ€å°é™ã®å®Ÿè£…ã§ãƒ†ã‚¹ãƒˆã‚’é€šã™ï¼ˆGreenï¼‰
// 3. ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„ã™ã‚‹ï¼ˆRefactorï¼‰
```

### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£…ä¾‹

```typescript
export class GameService {
  constructor(
    private gameProgressRepository: GameProgressRepository,
    private gameSettingsRepository: GameSettingsRepository
  ) {}
  
  async selectRoute(routeName: string): Promise<{
    success: boolean;
    message?: string;
  }> {
    try {
      const progress = await this.gameProgressRepository.getOrCreate();
      const routeId = RouteId.from(routeName);
      
      // ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã®æ¤œè¨¼
      if (routeName === 'trueRoute') {
        if (!progress.isTrueRouteUnlocked()) {
          return {
            success: false,
            message: 'å…¨ã¦ã®ãƒ«ãƒ¼ãƒˆã‚’ã‚¯ãƒªã‚¢ã—ã¦ãã ã•ã„',
          };
        }
      }
      
      progress.selectRoute(routeId);
      await this.gameProgressRepository.save(progress);
      
      return { success: true };
    } catch (error) {
      return {
        success: false,
        message: error instanceof Error ? error.message : 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼',
      };
    }
  }
}
```

## ğŸ”„ ç¶™ç¶šçš„æ”¹å–„ãƒ—ãƒ­ã‚»ã‚¹

### æ—¥å¸¸çš„ãªé–‹ç™ºã‚µã‚¤ã‚¯ãƒ«
1. **æœã®å“è³ªãƒã‚§ãƒƒã‚¯**: `npm test` ã§å…¨ãƒ†ã‚¹ãƒˆçŠ¶æ³ã‚’ç¢ºèª
2. **æ©Ÿèƒ½é–‹ç™º**: TDD + DDDã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§å®Ÿè£…
3. **ã‚³ãƒŸãƒƒãƒˆå‰**: å“è³ªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‚’ç¢ºèª
4. **é€±æ¬¡ãƒ¬ãƒ“ãƒ¥ãƒ¼**: ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã¨å¤±æ•—ãƒ†ã‚¹ãƒˆã®åˆ†æ

### å“è³ªå‘ä¸Šã®ãŸã‚ã®ç¶™ç¶šçš„å–ã‚Šçµ„ã¿
- **å¤±æ•—ãƒ†ã‚¹ãƒˆã®åˆ†æ**: 15ã®å¤±æ•—ãƒ†ã‚¹ãƒˆã‚’æ®µéšçš„ã«ä¿®æ­£
- **ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®è¿½åŠ **: æ–°ã—ã„å¢ƒç•Œå€¤ãƒ»ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®ç™ºè¦‹ã¨è¿½åŠ 
- **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°**: æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®DDDãƒ‘ã‚¿ãƒ¼ãƒ³ã¸ã®ç§»è¡Œ