# å“è³ªã®ãƒ—ãƒªã‚ºãƒ  - é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

## ğŸ§ª é–‹ç™ºæ–¹é‡

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **t_wadaã•ã‚“ã®æ¨å¥¨ã™ã‚‹TDD (Test-Driven Development)** ã¨ **DDD (Domain-Driven Design)** ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’çµ„ã¿åˆã‚ã›ã¦é–‹ç™ºã‚’é€²ã‚ã¦ã„ã¾ã™ã€‚

### TDDé–‹ç™ºã‚µã‚¤ã‚¯ãƒ«
1. **Red**: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
2. **Green**: ãƒ†ã‚¹ãƒˆã‚’é€šã™æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã
3. **Refactor**: ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„ã™ã‚‹

### DDDè¨­è¨ˆåŸå‰‡
- **ãƒ‰ãƒ¡ã‚¤ãƒ³ä¸­å¿ƒ**: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã«é›†ç´„
- **é–¢å¿ƒã®åˆ†é›¢**: å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è²¬ä»»ã‚’æ˜ç¢ºã«åˆ†é›¢
- **ãƒ†ã‚¹ãƒˆé§†å‹•**: å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆå¯èƒ½
- **ä¸å¤‰æ€§**: å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ä¸å¤‰æ€§ã‚’ä¿è¨¼

### ãƒ†ã‚¹ãƒˆè¦ä»¶
- æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã¯å¿…ãšãƒ†ã‚¹ãƒˆã‚’å…ˆã«æ›¸ã
- ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ã‹ã‚‰ã‚³ãƒŸãƒƒãƒˆ
- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚ã‚‚ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç¶­æŒ
- **ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ»å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆ**ã‚’å¿…ãšå«ã‚ã‚‹
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**ã®ãƒ†ã‚¹ãƒˆã‚’ç¶²ç¾…ã™ã‚‹
- **E2Eãƒ†ã‚¹ãƒˆ**ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ªã‚’æ¤œè¨¼ã™ã‚‹

## ğŸ“‹ ç¾åœ¨ã®ãƒ†ã‚¹ãƒˆçŠ¶æ³

```bash
npm test
```

- **ç·ãƒ†ã‚¹ãƒˆæ•°**: 342
- **æˆåŠŸç‡**: 100% (342/342)
- **å˜ä½“ãƒ†ã‚¹ãƒˆ**: 328ãƒ†ã‚¹ãƒˆ (23ãƒ•ã‚¡ã‚¤ãƒ«)
- **E2Eãƒ†ã‚¹ãƒˆ**: 14ãƒ†ã‚¹ãƒˆ (2ãƒ•ã‚¡ã‚¤ãƒ«)

### ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸

#### æ—¢å­˜ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ (66 tests)
- `NovelGameApp.test.ts`: 11 tests - UIãƒ»ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
- `ChoiceSystem.test.ts`: 16 tests - é¸æŠè‚¢ãƒ»ãƒ«ãƒ¼ãƒˆåˆ†å²
- `ScenarioLoader.test.ts`: 8 tests - YAMLãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿
- `GameLogic.test.ts`: 10 tests - ã‚²ãƒ¼ãƒ çŠ¶æ…‹ç®¡ç†
- `TextLog.test.ts`: 13 tests - ãƒ†ã‚­ã‚¹ãƒˆãƒ­ã‚°
- `SaveData.test.ts`: 8 tests - ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–

#### DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ - ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ (139 tests)
- `GameProgress.test.ts`: 7 tests - ã‚²ãƒ¼ãƒ é€²è¡Œã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
- `GameProgress.edge-cases.test.ts`: 16 tests - ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ»å¢ƒç•Œå€¤
- `TextLogEntry.test.ts`: 13 tests - ãƒ†ã‚­ã‚¹ãƒˆãƒ­ã‚°ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
- `RouteId.test.ts`: 10 tests - ãƒ«ãƒ¼ãƒˆIDå€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
- `RouteId.edge-cases.test.ts`: 22 tests - ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ»ç‰¹æ®Šæ–‡å­—ãƒ»Unicode
- `SceneNumber.test.ts`: 10 tests - ã‚·ãƒ¼ãƒ³ç•ªå·å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
- `SceneNumber.edge-cases.test.ts`: 22 tests - å¢ƒç•Œå€¤ãƒ»å‹å®‰å…¨æ€§ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- `GameSettings.test.ts`: 18 tests - ã‚²ãƒ¼ãƒ è¨­å®šå€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
- `GameSettings.edge-cases.test.ts`: 23 tests - æµ®å‹•å°æ•°ç‚¹ç²¾åº¦ãƒ»ä¸å¤‰æ€§ãƒ»NaN/Infinityå‡¦ç†
- `RouteConfiguration.test.ts`: 26 tests - ãƒ«ãƒ¼ãƒˆè¨­å®šç®¡ç†
- `RouteConfiguration.extensibility.test.ts`: 14 tests - æ‹¡å¼µæ€§ãƒ»æŸ”è»Ÿæ€§ãƒ†ã‚¹ãƒˆ
- `RouteValidationService.test.ts`: 9 tests - ãƒ«ãƒ¼ãƒˆæ¤œè¨¼ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹

#### DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ (31 tests)
- `GameService.test.ts`: 16 tests - ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒ“ã‚¹
- `GameService.edge-cases.test.ts`: 15 tests - éåŒæœŸã‚¨ãƒ©ãƒ¼ãƒ»ç«¶åˆçŠ¶æ…‹ãƒ»ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ

#### DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ - ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£å±¤ (41 tests)
- `DexieGameProgressRepository.test.ts`: 12 tests - ã‚²ãƒ¼ãƒ é€²è¡Œãƒªãƒã‚¸ãƒˆãƒª
- `DexieGameSettingsRepository.test.ts`: 14 tests - ã‚²ãƒ¼ãƒ è¨­å®šãƒªãƒã‚¸ãƒˆãƒª
- `DexieTextLogRepository.test.ts`: 15 tests - ãƒ†ã‚­ã‚¹ãƒˆãƒ­ã‚°ãƒªãƒã‚¸ãƒˆãƒª

#### E2Eãƒ†ã‚¹ãƒˆ (Playwright) - 14 tests
- **åŸºæœ¬å‹•ä½œãƒ†ã‚¹ãƒˆ** (`basic.spec.ts`): 8 tests
  - ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸è¡¨ç¤ºãƒ»ãƒ¡ãƒ‹ãƒ¥ãƒ¼å‹•ä½œ
  - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒ»ãƒã‚¦ã‚¹æ“ä½œ
  - å„ãƒ¢ãƒ¼ãƒ‰é·ç§»ï¼ˆã‚²ãƒ¼ãƒ ãƒ»ã‚®ãƒ£ãƒ©ãƒªãƒ¼ãƒ»ãƒŸãƒ‹ã‚²ãƒ¼ãƒ ãƒ»ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆï¼‰
- **DDDçµ±åˆãƒ†ã‚¹ãƒˆ** (`ddd-integration.spec.ts`): 6 tests
  - DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®å‹•ä½œæ¤œè¨¼
  - ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã®æ°¸ç¶šåŒ–ãƒ»ãƒ­ãƒ¼ãƒ‰
  - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»å®‰å®šæ€§ãƒ†ã‚¹ãƒˆ
  - ãƒ«ãƒ¼ãƒˆé¸æŠãƒ»è¨­å®šç®¡ç†æ©Ÿèƒ½

## ğŸ› ï¸ é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test

# ãƒ†ã‚¹ãƒˆUIè¡¨ç¤º
npm run test:ui

# E2Eãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run test:e2e

# E2Eãƒ†ã‚¹ãƒˆï¼ˆãƒ˜ãƒƒãƒ‰ã‚ã‚Šãƒ¢ãƒ¼ãƒ‰ï¼‰
npm run test:e2e:headed

# E2Eãƒ†ã‚¹ãƒˆUIè¡¨ç¤º
npm run test:e2e:ui

# E2Eãƒ†ã‚¹ãƒˆãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰
npm run test:e2e:debug

# E2Eãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤º
npm run test:e2e:report

# ãƒ“ãƒ«ãƒ‰
npm run build
```

## ğŸ—ï¸ DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¦å‰‡

### ãƒ¬ã‚¤ãƒ¤ãƒ¼è²¬ä»»

#### ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ (`src/domain/`)
- **ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£**: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¨ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†
- **å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**: ä¸å¤‰æ€§ã¨ç­‰ä¾¡æ€§ã‚’ä¿è¨¼
- **ãƒªãƒã‚¸ãƒˆãƒª**: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- **ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹**: ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã®å®Ÿè£…

#### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ (`src/application/`)
- **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒ“ã‚¹**: ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®å®Ÿè£…
- **ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®èª¿æ•´**: è¤‡æ•°ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å”èª¿

#### ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£å±¤ (`src/infrastructure/`)
- **ãƒªãƒã‚¸ãƒˆãƒªå®Ÿè£…**: å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹
- **æ°¸ç¶šåŒ–**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã®é€£æº

### å®Ÿè£…è¦å‰‡

1. **ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**:
   - å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ä¸å¤‰ã«ã™ã‚‹
   - ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¯ä¸€æ„æ€§ã‚’ä¿è¨¼
   - ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã«é›†ç´„

2. **ä¾å­˜é–¢ä¿‚**:
   - ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã¯ä»–ã®å±¤ã«ä¾å­˜ã—ãªã„
   - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã«ä¾å­˜
   - ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£å±¤ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ã«ä¾å­˜

3. **ãƒ†ã‚¹ãƒˆ**:
   - å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆ
   - ãƒ¢ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦ä¾å­˜é–¢ä¿‚ã‚’åˆ†é›¢
   - ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚’ç¶²ç¾…

## ğŸ“ ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦å‰‡

### 1. TDDé–‹ç™ºãƒ•ãƒ­ãƒ¼

**æ–°æ©Ÿèƒ½é–‹ç™ºæ™‚**:
1. å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼ˆRedï¼‰
2. æœ€å°é™ã®å®Ÿè£…ã§ãƒ†ã‚¹ãƒˆã‚’é€šã™ï¼ˆGreenï¼‰
3. ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„ã™ã‚‹ï¼ˆRefactorï¼‰
4. ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
5. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 

**ãƒã‚°ä¿®æ­£æ™‚**:
1. ãƒã‚°ã‚’å†ç¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’ä½œæˆ
2. ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
3. ä¿®æ­£ã—ã¦ãƒ†ã‚¹ãƒˆã‚’é€šã™
4. é–¢é€£ã™ã‚‹ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚’æ¤œè¨¼

### 2. DDDå®Ÿè£…ãƒ•ãƒ­ãƒ¼

**æ–°ã—ã„ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè¿½åŠ æ™‚**:
1. ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
2. ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å®Ÿè£…
3. ãƒªãƒã‚¸ãƒˆãƒªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©
4. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
5. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒ“ã‚¹ã‚’å®Ÿè£…
6. ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£å±¤ã®ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
7. ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£å±¤ã‚’å®Ÿè£…

### 3. ã‚³ãƒŸãƒƒãƒˆå‰ãƒã‚§ãƒƒã‚¯

**å¿…é ˆç¢ºèªäº‹é …**:
- [ ] å…¨ãƒ†ã‚¹ãƒˆãŒé€šéã™ã‚‹
- [ ] TypeScriptãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒãªã„
- [ ] æ–°æ©Ÿèƒ½ã«ã¯ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆãŒã‚ã‚‹
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒãƒ†ã‚¹ãƒˆã•ã‚Œã¦ã„ã‚‹
- [ ] DDDãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è²¬ä»»ãŒæ­£ã—ãåˆ†é›¢ã•ã‚Œã¦ã„ã‚‹
- [ ] E2Eãƒ†ã‚¹ãƒˆã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ªãŒæ¤œè¨¼ã•ã‚Œã¦ã„ã‚‹

## ğŸ¯ å“è³ªä¿è¨¼

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ä»¥ä¸‹ã®å“è³ªåŸºæº–ã‚’ç¶­æŒã—ã¾ã™:

### åŸºæœ¬å“è³ªæŒ‡æ¨™
- âœ… **ãƒ†ã‚¹ãƒˆæˆåŠŸç‡**: 100% (342/342)
- âœ… **TypeScriptãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãªã—**
- âœ… **ESLint/Prettieræº–æ‹ **
- âœ… **textlintï¼ˆã‚·ãƒŠãƒªã‚ªå“è³ªï¼‰æº–æ‹ **
- âœ… **ä¾å­˜é–¢ä¿‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»**

### DDDå“è³ªæŒ‡æ¨™
- âœ… **ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã®åˆ†é›¢**: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã«é›†ç´„
- âœ… **ä¸å¤‰æ€§ã®ä¿è¨¼**: å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸å¤‰æ€§ã‚’å¾¹åº•
- âœ… **ãƒ†ã‚¹ãƒˆç‹¬ç«‹æ€§**: å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆå¯èƒ½
- âœ… **ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ç¶²ç¾…**: å¢ƒç•Œå€¤ãƒ»ç‰¹æ®Šæ–‡å­—ãƒ»Unicodeãƒ»NaN/Infinityå‡¦ç†ã®ãƒ†ã‚¹ãƒˆ
- âœ… **å‹å®‰å…¨æ€§**: TypeScriptå‹ã‚·ã‚¹ãƒ†ãƒ ã®å®Œå…¨æ´»ç”¨
- âœ… **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**: å¤§é‡ãƒ‡ãƒ¼ã‚¿ãƒ»åŒæ™‚å®Ÿè¡Œãƒ»ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†

### TDDå“è³ªæŒ‡æ¨™
- âœ… **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: å®Ÿè£…å‰ã«ãƒ†ã‚¹ãƒˆã‚’ä½œæˆ
- âœ… **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®‰å…¨æ€§**: ãƒ†ã‚¹ãƒˆã«ã‚ˆã‚‹å¤‰æ›´ä¿è­·
- âœ… **ç¶™ç¶šçš„æ”¹å–„**: Red-Green-Refactorã‚µã‚¤ã‚¯ãƒ«ã®å®Ÿè·µ

### E2Eå“è³ªæŒ‡æ¨™
- âœ… **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ªæ¤œè¨¼**: å®Ÿéš›ã®ãƒ–ãƒ©ã‚¦ã‚¶ç’°å¢ƒã§ã®ãƒ†ã‚¹ãƒˆ
- âœ… **çµ±åˆãƒ†ã‚¹ãƒˆ**: å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å”èª¿å‹•ä½œç¢ºèª
- âœ… **UIæ“ä½œãƒ†ã‚¹ãƒˆ**: ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿéš›ã®æ“ä½œãƒ•ãƒ­ãƒ¼

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å“è³ªæŒ‡æ¨™
- âœ… **ä¾å­˜é–¢ä¿‚ç›£æŸ»**: npm auditã«ã‚ˆã‚‹è„†å¼±æ€§æ¤œå‡ºãƒ»ä¿®æ­£
- âœ… **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: XSSãƒ»CSRFå¯¾ç­–
- âœ… **ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: IndexedDBã§ã®å®‰å…¨ãªãƒ‡ãƒ¼ã‚¿ä¿å­˜

## ğŸš€ ä»Šå¾Œã®é–‹ç™ºæŒ‡é‡

### æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ
1. **ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒªãƒ³ã‚°**: ãƒ“ã‚¸ãƒã‚¹è¦ä»¶ã‚’ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦è¨­è¨ˆ
2. **TDDå®Ÿè·µ**: ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã§å®Ÿè£…
3. **ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ†é›¢**: DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®åŸå‰‡ã«å¾“ã£ãŸè²¬ä»»åˆ†é›¢
4. **ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹è€ƒæ…®**: å¢ƒç•Œå€¤ãƒ»ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ»ç‰¹æ®Šã‚±ãƒ¼ã‚¹ã‚’ç¶²ç¾…

### ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®æˆé•·æˆ¦ç•¥
- **æ¼¸é€²çš„æ”¹å–„**: æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’æ®µéšçš„ã«DDDãƒ‘ã‚¿ãƒ¼ãƒ³ã«ç§»è¡Œ
- **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸å‘ä¸Š**: æœªãƒ†ã‚¹ãƒˆéƒ¨åˆ†ã®ç¶™ç¶šçš„ãªæ”¹å–„
- **è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä¸€è²«æ€§**: æ–°æ©Ÿèƒ½ã‚‚æ—¢å­˜ã®DDDãƒ‘ã‚¿ãƒ¼ãƒ³ã«æº–æ‹ 

TDD + DDDã«ã‚ˆã‚Šã€**å®‰å…¨ã§ä¿å®ˆæ€§ã®é«˜ã„æ‹¡å¼µå¯èƒ½ãªã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹**ã‚’æ§‹ç¯‰ã—ã¦ã„ã¾ã™ã€‚

## ğŸš€ DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å®Œå…¨ç§»è¡Œå®Œäº†

### ç§»è¡Œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- âœ… **ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤**: å®Œå…¨å®Ÿè£…æ¸ˆã¿
- âœ… **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤**: å®Œå…¨å®Ÿè£…æ¸ˆã¿
- âœ… **ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£å±¤**: å®Œå…¨å®Ÿè£…æ¸ˆã¿
- âœ… **ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³**: DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«å®Œå…¨ç§»è¡Œ
- âœ… **E2Eãƒ†ã‚¹ãƒˆ**: DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¯¾å¿œå®Œäº†

### ç§»è¡Œã«ã‚ˆã‚‹æ”¹å–„ç‚¹
1. **éåŒæœŸå‡¦ç†ã®é©åˆ‡ãªå®Ÿè£…**
   - `async/await`ã«ã‚ˆã‚‹ç¢ºå®ŸãªéåŒæœŸå‡¦ç†åˆ¶å¾¡
   - ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®éåŒæœŸå¯¾å¿œ
   - åˆæœŸåŒ–ç«¶åˆçŠ¶æ…‹ã®è§£æ±º

2. **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã®å‘ä¸Š**
   - å˜ä½“ãƒ†ã‚¹ãƒˆ: 328ãƒ†ã‚¹ãƒˆï¼ˆ100%æˆåŠŸï¼‰
   - E2Eãƒ†ã‚¹ãƒˆ: 14ãƒ†ã‚¹ãƒˆï¼ˆ100%æˆåŠŸï¼‰
   - DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£çµ±åˆãƒ†ã‚¹ãƒˆè¿½åŠ 

3. **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ä¸€è²«æ€§**
   - å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§DDDåŸå‰‡ã«æº–æ‹ 
   - è²¬ä»»åˆ†é›¢ã®å¾¹åº•
   - ä¾å­˜é–¢ä¿‚ã®é©åˆ‡ãªç®¡ç†

## ğŸ¯ ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ»å“è³ªå‘ä¸Šã®æˆæœ

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§å‘ä¸Šã¨åŒ…æ‹¬çš„ãªã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆã®è¿½åŠ ã«ã‚ˆã‚Šã€å“è³ªã‚’å¤§å¹…ã«å‘ä¸Šã•ã›ã¾ã—ãŸã€‚

### ğŸ“ˆ å“è³ªå‘ä¸Šã®æ•°å€¤
- **ãƒ†ã‚¹ãƒˆæ•°å¢—åŠ **: 252ãƒ†ã‚¹ãƒˆ â†’ 328ãƒ†ã‚¹ãƒˆ (+76ãƒ†ã‚¹ãƒˆ)
- **ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ**: æ–°è¦è¿½åŠ ã§5ã¤ã®å°‚ç”¨ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
- **ãƒ†ã‚¹ãƒˆæˆåŠŸç‡**: 100%ç¶­æŒ
- **ã‚«ãƒãƒ¬ãƒƒã‚¸ç¯„å›²**: DDDã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ + ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹å®Œå…¨ç¶²ç¾…

### ğŸ” è¿½åŠ ã•ã‚ŒãŸã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ

#### 1. RouteId.edge-cases.test.ts (22 tests)
- **Unicodeæ–‡å­—**: æ—¥æœ¬èªãƒ»çµµæ–‡å­—ã‚’å«ã‚€ãƒ«ãƒ¼ãƒˆID
- **ç‰¹æ®Šæ–‡å­—**: è¨˜å·ãƒ»æ•°å­—ãƒ»ç©ºç™½æ–‡å­—ã®å‡¦ç†
- **å¢ƒç•Œå€¤**: ç©ºæ–‡å­—åˆ—ãƒ»éå¸¸ã«é•·ã„æ–‡å­—åˆ—
- **ä¸å¤‰æ€§**: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸å¤‰æ€§ä¿è¨¼

#### 2. SceneNumber.edge-cases.test.ts (22 tests)
- **å‹å®‰å…¨æ€§**: éæ•´æ•°ãƒ»NaNãƒ»Infinityå€¤ã®æ¤œè¨¼
- **å¢ƒç•Œå€¤**: æœ€å¤§å®‰å…¨æ•´æ•°ãƒ»ã‚¼ãƒ­ãƒ»è² ã®å€¤
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: å¤§é‡ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä½œæˆãƒ»æ¼”ç®—é€Ÿåº¦
- **å®Ÿç”¨æ€§**: ã‚²ãƒ¼ãƒ ã‚·ãƒŠãƒªã‚ªã§ã®å®Ÿéš›ã®ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³

#### 3. GameSettings.edge-cases.test.ts (23 tests)
- **æµ®å‹•å°æ•°ç‚¹ç²¾åº¦**: é«˜ç²¾åº¦å€¤ãƒ»æ¼”ç®—èª¤å·®ã¸ã®å¯¾å¿œ
- **ä¸å¤‰æ€§ã®è©³ç´°**: ãƒã‚§ãƒ¼ãƒ³ãƒ¡ã‚½ãƒƒãƒ‰ãƒ»åˆ†å²è¨­å®šã®ç‹¬ç«‹æ€§
- **NaN/Infinityå‡¦ç†**: ç•°å¸¸å€¤ã§ã®é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- **å®Ÿç”¨çš„ã‚·ãƒŠãƒªã‚ª**: ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šãƒ»ãƒ—ãƒªã‚»ãƒƒãƒˆç®¡ç†

#### 4. DexieTextLogRepository.test.ts (15 tests)
- **CRUDæ“ä½œ**: å®Œå…¨ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œãƒ†ã‚¹ãƒˆ
- **ã‚¯ã‚¨ãƒªæ€§èƒ½**: è¤‡é›‘ãªæ¤œç´¢æ¡ä»¶ãƒ»å¤§é‡ãƒ‡ãƒ¼ã‚¿å‡¦ç†
- **ç‰¹æ®Šæ–‡å­—å¯¾å¿œ**: Unicodeãƒ»æ”¹è¡Œãƒ»ã‚¿ãƒ–æ–‡å­—ã®æ°¸ç¶šåŒ–
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: 100ä»¶ãƒ‡ãƒ¼ã‚¿ã§ã®ä¿å­˜ãƒ»å–å¾—é€Ÿåº¦

#### 5. GameService.edge-cases.test.ts (15 tests)
- **éåŒæœŸã‚¨ãƒ©ãƒ¼**: è¤‡é›‘ãªã‚¨ãƒ©ãƒ¼ã‚·ãƒŠãƒªã‚ªãƒ»ä¾‹å¤–ä¼æ’­
- **ç«¶åˆçŠ¶æ…‹**: åŒæ™‚å®Ÿè¡Œãƒ»ä¸¦è¡Œå‡¦ç†ã®æ•´åˆæ€§
- **ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†**: é•·æ™‚é–“å®Ÿè¡Œãƒ»å¿œç­”æ€§ãƒ†ã‚¹ãƒˆ
- **ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§**: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ»åŸå­æ€§ã®ä¿è¨¼

### ğŸ› ï¸ ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰å¯èª­æ€§ã®æ”¹å–„

#### Before: é…åˆ—ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½¿ç”¨
```typescript
const routes = ['route1', 'route2', 'route3'];
gameService.selectRoute(routes[0]); // ä½•ã®ãƒ«ãƒ¼ãƒˆã‹ä¸æ˜
```

#### After: ç›´æ„Ÿçš„ãªå®šæ•°ä½¿ç”¨
```typescript
import { TEST_CONSTANTS } from '../../test/utils/testHelpers';
gameService.selectRoute(TEST_CONSTANTS.ROUTE1); // æ˜ç¢ºãªãƒ«ãƒ¼ãƒˆè­˜åˆ¥
```

#### ãƒ†ã‚¹ãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼ã®å……å®Ÿ
- **å®šæ•°ç®¡ç†**: å„ãƒ«ãƒ¼ãƒˆãƒ»è¨­å®šå€¤ã®ä¸€å…ƒç®¡ç†
- **ãƒ¢ãƒƒã‚¯ãƒ•ã‚¡ã‚¯ãƒˆãƒª**: å†åˆ©ç”¨å¯èƒ½ãªãƒ¢ãƒƒã‚¯ç”Ÿæˆ
- **ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ˜ãƒ«ãƒ‘ãƒ¼**: è¤‡é›‘ãªæ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã®ç°¡ç•¥åŒ–
- **éåŒæœŸãƒ†ã‚¹ãƒˆ**: Promiseãƒ»ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®æ¨™æº–åŒ–

### ğŸ® å®Ÿè£…ã•ã‚ŒãŸå“è³ªä¿è¨¼æ©Ÿèƒ½

#### å‹å®‰å…¨æ€§ã®å‘ä¸Š
- **NaN/Infinityæ¤œè¨¼**: æ•°å€¤å‹ã®å®Œå…¨ãªæ¤œè¨¼
- **æ•´æ•°ãƒã‚§ãƒƒã‚¯**: ã‚·ãƒ¼ãƒ³ç•ªå·ã®æ•´æ•°æ€§ä¿è¨¼
- **ç¯„å›²æ¤œè¨¼**: éŸ³é‡ãƒ»é€Ÿåº¦ã®é©åˆ‡ãªç¯„å›²ãƒã‚§ãƒƒã‚¯

#### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ç¶²ç¾…
- **é©åˆ‡ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚¨ãƒ©ãƒ¼æ–‡è¨€
- **ä¾‹å¤–ã®ä¼æ’­**: éåŒæœŸå‡¦ç†ã§ã®æ­£ç¢ºãªã‚¨ãƒ©ãƒ¼æƒ…å ±
- **å¾©æ—§å¯èƒ½æ€§**: ä¸€æ™‚çš„ã‚¨ãƒ©ãƒ¼ã‹ã‚‰ã®å›å¾©ãƒ‘ã‚¿ãƒ¼ãƒ³

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä¿è¨¼
- **ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“**: å„æ“ä½œã®å®Ÿè¡Œæ™‚é–“ä¸Šé™è¨­å®š
- **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡**: å¤§é‡ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã§ã®å®‰å®šæ€§
- **ä¸¦è¡Œå‡¦ç†**: åŒæ™‚å®Ÿè¡Œã§ã®ç«¶åˆçŠ¶æ…‹å›é¿

### ğŸ”§ æŠ€è¡“çš„æ”¹å–„

#### TypeScriptè¨­å®šæœ€é©åŒ–
- **ãƒ“ãƒ«ãƒ‰åˆ†é›¢**: ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰ã‹ã‚‰é™¤å¤–
- **å‹ã‚¤ãƒ³ãƒãƒ¼ãƒˆ**: `verbatimModuleSyntax`å¯¾å¿œ
- **æœªä½¿ç”¨ã‚³ãƒ¼ãƒ‰**: ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»å¤‰æ•°ã®æ•´ç†

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœ€é©åŒ–
- **Dexieã‚¯ã‚¨ãƒª**: åŠ¹ç‡çš„ãªIndexedDBæ“ä½œ
- **ã‚½ãƒ¼ãƒˆå‡¦ç†**: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã«ã‚ˆã‚‹ç¢ºå®Ÿãªé †åºä¿è¨¼
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œã®ä¾‹å¤–å‡¦ç†

ã“ã‚Œã‚‰ã®æ”¹å–„ã«ã‚ˆã‚Šã€**328ãƒ†ã‚¹ãƒˆ100%æˆåŠŸ**ã¨ã„ã†é«˜ã„å“è³ªæ°´æº–ã‚’é”æˆã—ã€ç¶™ç¶šçš„ãªé–‹ç™ºã§ã®å®‰å…¨æ€§ã‚’ç¢ºä¿ã—ã¦ã„ã¾ã™ã€‚

## ğŸ›¡ï¸ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç‰¹æ€§

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯**ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®ã¿ã®é™çš„Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³**ã¨ã—ã¦è¨­è¨ˆã•ã‚Œã¦ãŠã‚Šã€å¾“æ¥ã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã¯ç•°ãªã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ã‚’æŒã¡ã¾ã™ã€‚

#### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç‰¹æ€§
- **é™çš„ã‚µã‚¤ãƒˆ**: Viteã§ãƒ“ãƒ«ãƒ‰ã•ã‚Œã‚‹å®Œå…¨ãªé™çš„ã‚µã‚¤ãƒˆ
- **ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãªã—
- **ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: IndexedDBã«ã‚ˆã‚‹å®Œå…¨ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ä¿å­˜
- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰**: å…¨ã¦ã®å‡¦ç†ãŒãƒ–ãƒ©ã‚¦ã‚¶å†…ã§å®Œçµ

#### é©ç”¨ã•ã‚Œã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–

1. **ä¾å­˜é–¢ä¿‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**
   - npm auditã«ã‚ˆã‚‹è„†å¼±æ€§æ¤œå‡ºãƒ»ä¿®æ­£
   - å®šæœŸçš„ãªä¾å­˜é–¢ä¿‚æ›´æ–°
   - ä¸è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®é™¤å»

2. **ã‚³ãƒ¼ãƒ‰å“è³ªã«ã‚ˆã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**
   - TypeScriptå‹å®‰å…¨æ€§ã«ã‚ˆã‚‹å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼é˜²æ­¢
   - ESLintãƒ»Prettierã«ã‚ˆã‚‹ä¸€è²«ã—ãŸå“è³ªç¶­æŒ
   - 328ãƒ†ã‚¹ãƒˆ100%æˆåŠŸã«ã‚ˆã‚‹å“è³ªä¿è¨¼

3. **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**
   - XSSå¯¾ç­–: ä¿¡é ¼ã§ãã‚‹ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã®ã¿ä½¿ç”¨
   - CSRFå¯¾ç­–: å¤–éƒ¨APIã¸ã®é€ä¿¡ãªã—
   - ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼: TypeScriptå‹ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚‹å…¥åŠ›æ¤œè¨¼

#### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ†æçµæœ
- âœ… **è„†å¼±æ€§0ä»¶**: ä¾å­˜é–¢ä¿‚ã®è„†å¼±æ€§ã‚’å®Œå…¨ä¿®æ­£
- âœ… **å‹å®‰å…¨æ€§**: TypeScript ã«ã‚ˆã‚‹å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼é˜²æ­¢
- âœ… **å“è³ªä¿è¨¼**: 328ãƒ†ã‚¹ãƒˆãƒ»TDDãƒ»DDDã«ã‚ˆã‚‹å …ç‰¢æ€§

#### ä¸è¦ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–

**CodeQLç­‰ã®é«˜åº¦ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ†æ**ã¯ã€ä»¥ä¸‹ã®ç†ç”±ã§ä¸è¦ã¨åˆ¤æ–­ï¼š
- ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã‚³ãƒ¼ãƒ‰ãŒå­˜åœ¨ã—ãªã„
- å¤–éƒ¨APIã¨ã®é€šä¿¡ãŒãªã„
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®å¤–éƒ¨é€ä¿¡ãŒãªã„
- æ¨©é™ç®¡ç†ãƒ»èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ãŒãªã„

### é©åˆ‡ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€**ã‚·ãƒ³ãƒ—ãƒ«ã§åŠ¹æœçš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–**ã‚’æ¡ç”¨ï¼š

1. **ä¾å­˜é–¢ä¿‚ç›£æŸ»**: `npm audit`ã«ã‚ˆã‚‹å®šæœŸãƒã‚§ãƒƒã‚¯
2. **ã‚³ãƒ¼ãƒ‰å“è³ª**: TypeScriptãƒ»ESLintãƒ»ãƒ†ã‚¹ãƒˆã«ã‚ˆã‚‹å“è³ªä¿è¨¼
3. **é™çš„è§£æ**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ€§è³ªã«é©ã—ãŸãƒ„ãƒ¼ãƒ«ã®ã¿ä½¿ç”¨

ã“ã®é©åˆ‡ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«ã‚ˆã‚Šã€**éåº¦ã«è¤‡é›‘ã§ãªã„ã€ä¿å®ˆæ€§ã®é«˜ã„ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä½“åˆ¶**ã‚’æ§‹ç¯‰ã—ã¦ã„ã¾ã™ã€‚

## ğŸ’¡ å®Ÿè£…ä¾‹

### ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å®Ÿè£…ä¾‹

```typescript
// å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¾‹
export class RouteId {
  private readonly value: string;
  
  constructor(value: string) {
    this.value = value;
  }
  
  getValue(): string {
    return this.value;
  }
  
  equals(other: RouteId): boolean {
    return this.value === other.value;
  }
  
  isEmpty(): boolean {
    return this.value === '' || this.value.trim() === '';
  }
  
  static from(value: string): RouteId {
    return new RouteId(value);
  }
  
  static empty(): RouteId {
    return new RouteId('');
  }
}
```

### TDDå®Ÿè£…ä¾‹

```typescript
// 1. ãƒ†ã‚¹ãƒˆã‚’å…ˆã«æ›¸ãï¼ˆRedï¼‰
describe('RouteId', () => {
  it('æœ‰åŠ¹ãªãƒ«ãƒ¼ãƒˆIDã‚’ä½œæˆã§ãã‚‹', () => {
    const routeId = RouteId.from('route1');
    expect(routeId.getValue()).toBe('route1');
  });
  
  it('ç©ºã®ãƒ«ãƒ¼ãƒˆIDã¯ç©ºã¨ã¿ãªã•ã‚Œã‚‹', () => {
    const emptyRoute = RouteId.empty();
    expect(emptyRoute.isEmpty()).toBe(true);
  });
});

// 2. æœ€å°é™ã®å®Ÿè£…ã§ãƒ†ã‚¹ãƒˆã‚’é€šã™ï¼ˆGreenï¼‰
// 3. ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„ã™ã‚‹ï¼ˆRefactorï¼‰
```

### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£…ä¾‹

```typescript
export class GameService {
  constructor(
    private gameProgressRepository: GameProgressRepository,
    private gameSettingsRepository: GameSettingsRepository
  ) {}
  
  async selectRoute(routeName: string): Promise<{
    success: boolean;
    message?: string;
  }> {
    try {
      const progress = await this.gameProgressRepository.getOrCreate();
      const routeId = RouteId.from(routeName);
      
      // ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã®æ¤œè¨¼
      if (routeName === 'trueRoute') {
        if (!progress.isTrueRouteUnlocked()) {
          return {
            success: false,
            message: 'å…¨ã¦ã®ãƒ«ãƒ¼ãƒˆã‚’ã‚¯ãƒªã‚¢ã—ã¦ãã ã•ã„',
          };
        }
      }
      
      progress.selectRoute(routeId);
      await this.gameProgressRepository.save(progress);
      
      return { success: true };
    } catch (error) {
      return {
        success: false,
        message: error instanceof Error ? error.message : 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼',
      };
    }
  }
}
```

## ğŸ”„ ç¶™ç¶šçš„æ”¹å–„ãƒ—ãƒ­ã‚»ã‚¹

### æ—¥å¸¸çš„ãªé–‹ç™ºã‚µã‚¤ã‚¯ãƒ«
1. **æœã®å“è³ªãƒã‚§ãƒƒã‚¯**: `npm test` ã§å…¨ãƒ†ã‚¹ãƒˆçŠ¶æ³ã‚’ç¢ºèª
2. **æ©Ÿèƒ½é–‹ç™º**: TDD + DDDã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§å®Ÿè£…
3. **ã‚³ãƒŸãƒƒãƒˆå‰**: å“è³ªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‚’ç¢ºèª
4. **é€±æ¬¡ãƒ¬ãƒ“ãƒ¥ãƒ¼**: ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã¨å¤±æ•—ãƒ†ã‚¹ãƒˆã®åˆ†æ

### å“è³ªå‘ä¸Šã®ãŸã‚ã®ç¶™ç¶šçš„å–ã‚Šçµ„ã¿
- **ãƒ†ã‚¹ãƒˆå“è³ªã®å‘ä¸Š**: å…¨252ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ã€100%ã®æˆåŠŸç‡ã‚’é”æˆ
- **ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®è¿½åŠ **: æ–°ã—ã„å¢ƒç•Œå€¤ãƒ»ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®ç™ºè¦‹ã¨è¿½åŠ 
- **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°**: æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®DDDãƒ‘ã‚¿ãƒ¼ãƒ³ã¸ã®ç§»è¡Œ