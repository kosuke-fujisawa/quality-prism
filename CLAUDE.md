# 品質のプリズム - 開発ガイドライン

## 🧪 開発方針

このプロジェクトは **t_wadaさんの推奨するTDD (Test-Driven Development)** に従って開発を進めています。

### TDD開発サイクル
1. **Red**: 失敗するテストを書く
2. **Green**: テストを通す最小限のコードを書く
3. **Refactor**: コードを改善する

### テスト要件
- 新機能追加時は必ずテストを先に書く
- すべてのテストが通ることを確認してからコミット
- リファクタリング時もテストカバレッジを維持

## 📋 現在のテスト状況

```bash
npm test
```

- **総テスト数**: 66
- **成功率**: 100% (66/66)
- **テストファイル**: 6ファイル

### テストカバレッジ
- `NovelGameApp.test.ts`: 11 tests - UI・イベント処理
- `ChoiceSystem.test.ts`: 16 tests - 選択肢・ルート分岐
- `ScenarioLoader.test.ts`: 8 tests - YAMLファイル読み込み
- `GameLogic.test.ts`: 10 tests - ゲーム状態管理
- `TextLog.test.ts`: 13 tests - テキストログ
- `SaveData.test.ts`: 8 tests - データ永続化

## 🛠️ 開発コマンド

```bash
# 開発サーバー起動
npm run dev

# テスト実行
npm test

# テストUI表示
npm run test:ui

# ビルド
npm run build
```

## 📝 コーディング規則

1. **新機能開発時**:
   - まずテストケースを作成
   - テストが失敗することを確認
   - 実装してテストを通す
   - リファクタリング

2. **バグ修正時**:
   - バグを再現するテストを作成
   - テストが失敗することを確認
   - 修正してテストを通す

3. **コミット前**:
   - 必ず全テストを実行
   - すべてのテストが通ることを確認
   - TypeScriptビルドエラーがないことを確認

## 🎯 品質保証

このプロジェクトでは以下の品質基準を維持します:

- ✅ 全テスト通過 (66/66)
- ✅ TypeScriptビルドエラーなし
- ✅ 適切なエラーハンドリング
- ✅ 設計パターンの一貫性

TDDにより、安全で保守性の高いコードベースを構築しています。